(self.webpackChunk=self.webpackChunk||[]).push([[143],{"App.html":e=>{e.exports="<template> <router-view></router-view> </template>"},"pages/Home.html":e=>{e.exports='<template> <div> <label for="search">Pok√©mon</label> <input type="text" value.bind="search" name="search" id="search"> <label for="type1">Type 1</label> <select name="type1" id="type1" value.bind="type1"> <option value="">-</option> <option repeat.for="type of types" model.bind="type.id">${type.nameFr}</option> </select> <label for="type2">Type 2</label> <select name="type2" id="type2" value.bind="type2"> <option value="">-</option> <option repeat.for="type of types" model.bind="type.id">${type.nameFr}</option> </select> <input type="button" value="Rechercher" click.delegate="submitSearch()"> </div> <div> <table> <tr repeat.for="pokemon of pokemonSearch"> <td if.bind="pokemon.form">${pokemon.nameFr} (${pokemon.form})</td> <td else>${pokemon.nameFr}</td> <td>${pokemon.hp}</td> <td>${pokemon.attack}</td> <td>${pokemon.defense}</td> <td>${pokemon.spAtk}</td> <td>${pokemon.spDef}</td> <td>${pokemon.speed}</td> </tr> </table> </div> <select value.bind="pokemon1Id" change.delegate="changePokemon(1)"> <option value="">-</option> <option repeat.for="pokemon of pokemons" model.bind="pokemon.id">${pokemon.nameFr} ${pokemon.form}</option> </select> <select value.bind="pokemon2Id" change.delegate="changePokemon(2)"> <option value="">-</option> <option repeat.for="pokemon of pokemons" model.bind="pokemon.id">${pokemon.nameFr} ${pokemon.form}</option> </select> <select value.bind="pokemon3Id" change.delegate="changePokemon(3)"> <option value="">-</option> <option repeat.for="pokemon of pokemons" model.bind="pokemon.id">${pokemon.nameFr} ${pokemon.form}</option> </select> <select value.bind="pokemon4Id" change.delegate="changePokemon(4)"> <option value="">-</option> <option repeat.for="pokemon of pokemons" model.bind="pokemon.id">${pokemon.nameFr} ${pokemon.form}</option> </select> <select value.bind="pokemon5Id" change.delegate="changePokemon(5)"> <option value="">-</option> <option repeat.for="pokemon of pokemons" model.bind="pokemon.id">${pokemon.nameFr} ${pokemon.form}</option> </select> <select value.bind="pokemon6Id" change.delegate="changePokemon(6)"> <option value="">-</option> <option repeat.for="pokemon of pokemons" model.bind="pokemon.id">${pokemon.nameFr} ${pokemon.form}</option> </select> <table> <tr> <td></td> <td>${pokemon1.nameFr}</td> <td>${pokemon2.nameFr}</td> <td>${pokemon3.nameFr}</td> <td>${pokemon4.nameFr}</td> <td>${pokemon5.nameFr}</td> <td>${pokemon6.nameFr}</td> <td>Total Weak</td> <td>Total Resist</td> </tr> <tr repeat.for="coverage of coverages"> <td>${coverage.type}</td> <td style.bind="coverage.pokemonCoverage1.style">${coverage.pokemonCoverage1.value}</td> <td style.bind="coverage.pokemonCoverage2.style">${coverage.pokemonCoverage2.value}</td> <td style.bind="coverage.pokemonCoverage3.style">${coverage.pokemonCoverage3.value}</td> <td style.bind="coverage.pokemonCoverage4.style">${coverage.pokemonCoverage4.value}</td> <td style.bind="coverage.pokemonCoverage5.style">${coverage.pokemonCoverage5.value}</td> <td style.bind="coverage.pokemonCoverage6.style">${coverage.pokemonCoverage6.value}</td> <td style.bind="coverage.totalWeak > coverage.totalResist ? \'background-color: #ffc4c4;\' : \'\'">${coverage.totalWeak}</td> <td style.bind="coverage.totalWeak < coverage.totalResist ? \'background-color: #b9ffbd;\' : \'\'">${coverage.totalResist}</td> </tr> </table> </template> '},755:(e,o,t)=>{"use strict";var n=t(597);t("aurelia-framework"),(0,n.U)((function(e){e.use.standardConfiguration().plugin("aurelia-validation").plugin("attributes");var o=document.querySelector("[vertone-app]");e.start().then((function(){return e.setRoot("App",o)})),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var o=void 0;if(!document.documentElement.contains(o))return null;do{if(o.matches(e))return o;o=o.parentElement||o.parentNode}while(null!==o&&1==o.nodeType);return null})}))},App:(e,o,t)=>{"use strict";t.r(o),t.d(o,{App:()=>i});var n=t("aurelia-framework"),r=(t(865),function(e,o,t,n){var r,a=arguments.length,i=a<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,o,t,n);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(i=(a<3?r(i):a>3?r(o,t,i):r(o,t))||i);return a>3&&i&&Object.defineProperty(o,t,i),i}),a=function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},i=function(){function e(){this.logger=n.LogManager.getLogger("App"),this.logger.debug("Constructor")}return e.prototype.configureRouter=function(e,o){e.title="Vertone",e.options.pushState=!0,e.map([{route:"/",name:"home",moduleId:"pages/Home",nav:!0,title:"Home",settings:{roles:[]}},{route:"/home",name:"home",moduleId:"pages/Home",nav:!0,title:"Home",settings:{roles:[]}}]),e.fallbackRoute("/"),e.mapUnknownRoutes({redirect:"",route:"404"}),this.router=o},r([(0,n.autoinject)(),a("design:paramtypes",[])],e)}()},attributes:(e,o,t)=>{"use strict";function n(e){e.globalResources([])}t.r(o),t.d(o,{configure:()=>n})},"pages/Home":(e,o,t)=>{"use strict";t.r(o),t.d(o,{Home:()=>c});var n=t("aurelia-framework"),r=t(931),a=function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},i=function(){function e(e){this.httpClient=e,this.logger=n.LogManager.getLogger("PokemonService"),this.httpClient.configure((function(e){e.withDefaults({headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json",Accept:"application/json"},credentials:"include"})}))}return e.prototype.getPokemons=function(){return this.httpClient.get("/api/pokemons").then((function(e){if(200===e.status)return e.json();throw new Error("Unauthorized")})).then((function(e){return e}))},e.prototype.getTypes=function(){return this.httpClient.get("/api/types").then((function(e){if(200===e.status)return e.json();throw new Error("Unauthorized")})).then((function(e){return e}))},e.prototype.searchPokemon=function(e){return this.httpClient.post("/api/search/pokemon",JSON.stringify(e)).then((function(e){if(200===e.status)return e.json();throw new Error("Unauthorized")})).then((function(e){return e}))},function(e,o,t,n){var r,a=arguments.length,i=a<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,o,t,n);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(i=(a<3?r(i):a>3?r(o,t,i):r(o,t))||i);return a>3&&i&&Object.defineProperty(o,t,i),i}([(0,n.inject)(n.NewInstance.of(r.eN)),a("design:paramtypes",[r.eN])],e)}(),p=function(e){void 0===e&&(e=null),null!==e&&(this.id=e.id,this.number=e.number,this.name=e.name,this.nameFr=e.nameFr,this.form=e.form,this.type1=e.type1,this.type2=e.type2,this.image=e.image,this.hp=e.hp,this.attack=e.attack,this.defense=e.defense,this.spAtk=e.spAtk,this.spDef=e.spDef,this.speed=e.speed,this.total=e.total)},s=function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},c=function(){function e(e){this.pokemonService=e,this.logger=n.LogManager.getLogger("HomePage"),this.coverages=[],this.interviewNumber=0,this.year=(new Date).getFullYear(),this.logger.debug("Construct")}return e.prototype.attached=function(){var e=this,o=sessionStorage.getItem("pokemons");null!==o?this.pokemons=JSON.parse(o):this.pokemonService.getPokemons().then((function(o){e.pokemons=o,sessionStorage.setItem("pokemons",JSON.stringify(o))})),this.pokemonService.getTypes().then((function(o){for(var t in e.types=o,o)e.coverages.push({type:o[t].nameFr,pokemonCoverage1:{value:"-",style:""},pokemonCoverage2:{value:"-",style:""},pokemonCoverage3:{value:"-",style:""},pokemonCoverage4:{value:"-",style:""},pokemonCoverage5:{value:"-",style:""},pokemonCoverage6:{value:"-",style:""},totalWeak:0,totalResist:0});console.log(e.coverages)}))},e.prototype.changePokemon=function(e){var o=this;switch(e){case 1:this.pokemon1=new p(this.pokemons.find((function(e){return e.id==o.pokemon1Id}))),this.computeCoverage(1,this.pokemon1);break;case 2:this.pokemon2=new p(this.pokemons.find((function(e){return e.id==o.pokemon2Id}))),this.computeCoverage(2,this.pokemon2);break;case 3:this.pokemon3=new p(this.pokemons.find((function(e){return e.id==o.pokemon3Id}))),this.computeCoverage(3,this.pokemon3);break;case 4:this.pokemon4=new p(this.pokemons.find((function(e){return e.id==o.pokemon4Id}))),this.computeCoverage(4,this.pokemon4);break;case 5:this.pokemon5=new p(this.pokemons.find((function(e){return e.id==o.pokemon5Id}))),this.computeCoverage(5,this.pokemon5);break;case 6:this.pokemon6=new p(this.pokemons.find((function(e){return e.id==o.pokemon6Id}))),this.computeCoverage(6,this.pokemon6)}},e.prototype.computeCoverage=function(e,o){for(var t in this.coverages)this.coverages[t]["pokemonCoverage"+e].value="-",this.coverages[t]["pokemonCoverage"+e].style="";var n=[];o.id&&(n.push(o.type1),o.type2&&n.push(o.type2));var r=function(o){var t=function(t){var r=a.types.find((function(e){return e.id==n[o].coverages[t].targetTypeId}));a.coverageValue(r.nameFr,e,n[o].coverages[t].status)};for(var r in n[o].coverages)t(r)},a=this;for(var i in n)r(i);this.computeTotals()},e.prototype.coverageValue=function(e,o,t){var n=this.coverages.findIndex((function(o){return o.type===e}));if("immune"==t)this.coverages[n]["pokemonCoverage"+o].value="immune";else switch(this.coverages[n]["pokemonCoverage"+o].value){case"1/2":this.coverages[n]["pokemonCoverage"+o].value="weak"==t?"-":"1/4";break;case"-":this.coverages[n]["pokemonCoverage"+o].value="weak"==t?"2x":"1/2";break;case"2x":this.coverages[n]["pokemonCoverage"+o].value="weak"==t?"4x":"-"}},e.prototype.computeTotals=function(){for(var e in this.coverages){var o=0,t=0,n=[this.coverages[e].pokemonCoverage1.value,this.coverages[e].pokemonCoverage2.value,this.coverages[e].pokemonCoverage3.value,this.coverages[e].pokemonCoverage4.value,this.coverages[e].pokemonCoverage5.value,this.coverages[e].pokemonCoverage6.value];for(var r in n){var a=parseInt(r)+1;switch(n[r]){case"1/2":this.coverages[e]["pokemonCoverage"+a].style="background-color: #b9ffbd",t++;break;case"1/4":this.coverages[e]["pokemonCoverage"+a].style="background-color: #6ad370",t++;break;case"immune":this.coverages[e]["pokemonCoverage"+a].style="background-color: #c7c7c7",t++;break;case"2x":this.coverages[e]["pokemonCoverage"+a].style="background-color: #ffc4c4",o++;break;case"4x":this.coverages[e]["pokemonCoverage"+a].style="background-color: #df7e7e",o++}}this.coverages[e].totalWeak=o,this.coverages[e].totalResist=t}},e.prototype.submitSearch=function(){var e=this,o={search:this.search,type1Id:this.type1,type2Id:this.type2};this.pokemonService.searchPokemon(o).then((function(o){e.pokemonSearch=o}))},function(e,o,t,n){var r,a=arguments.length,i=a<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,o,t,n);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(i=(a<3?r(i):a>3?r(o,t,i):r(o,t))||i);return a>3&&i&&Object.defineProperty(o,t,i),i}([(0,n.autoinject)(),s("design:paramtypes",[i])],e)}()},432:(e,o,t)=>{void 0!==webpackBaseUrl&&(t.p=webpackBaseUrl)},265:()=>{}},e=>{var o=o=>e(e.s=o);e.O(0,[216],(()=>(o(923),o(432),o(755)))),e.O()}]);